(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{718:(e,a,s)=>{Promise.resolve().then(s.bind(s,8430))},768:(e,a,s)=>{"use strict";s.d(a,{S:()=>t});let t=s(3464).A.create({baseURL:"https://api.aisigroup.ge/api",withCredentials:!0,headers:{"Content-Type":"application/json"}})},8430:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5155),r=s(2115),l=s(5695),d=s(5594),i=s(9870);let n=d.z.object({email:d.z.string().email("Invalid email address"),password:d.z.string().min(6,"Password must be at least 6 characters")});function o(){let e=(0,l.useRouter)(),[a,s]=(0,r.useState)({email:"",password:""}),[d,o]=(0,r.useState)({}),[c,m]=(0,r.useState)(!1),u=e=>{let{name:a,value:t}=e.target;s(e=>({...e,[a]:t})),d[a]&&o(e=>({...e,[a]:void 0}))},p=async s=>{var t,r,l,d;s.preventDefault(),m(!0),o({});try{let s=n.safeParse(a);if(!s.success){let e=s.error.flatten().fieldErrors;o({email:null===(t=e.email)||void 0===t?void 0:t[0],password:null===(r=e.password)||void 0===r?void 0:r[0]}),m(!1);return}(await i.R.login(a)).data&&e.push("/admin")}catch(e){o({general:(null===(d=e.response)||void 0===d?void 0:null===(l=d.data)||void 0===l?void 0:l.message)||"An unexpected error occurred"})}finally{m(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,t.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-full max-w-md",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign In"}),d.general&&(0,t.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:d.general}),(0,t.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",value:a.email,onChange:u,className:"mt-1 block w-full rounded-md border ".concat(d.email?"border-red-500":"border-gray-300"," shadow-sm py-2 px-3"),placeholder:"Enter your email"}),d.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsx)("input",{type:"password",id:"password",name:"password",value:a.password,onChange:u,className:"mt-1 block w-full rounded-md border ".concat(d.password?"border-red-500":"border-gray-300"," shadow-sm py-2 px-3"),placeholder:"Enter your password"}),d.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.password})]}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"w-full py-2 px-4 rounded-md text-white font-semibold ".concat(c?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:c?"Signing In...":"Sign In"})]})]})})}},9870:(e,a,s)=>{"use strict";s.d(a,{R:()=>r});var t=s(768);let r={login:async e=>(await t.S.post("/signin",e)).data,signup:async e=>(await t.S.post("/signup",e)).data,signout:async()=>(await t.S.post("/signout")).data,checkAuthStatus:async()=>(await t.S.post("/status")).data}}},e=>{var a=a=>e(e.s=a);e.O(0,[794,594,441,684,358],()=>a(718)),_N_E=e.O()}]);