(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[696],{285:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var a=s(5155),i=s(2115),n=s(9708),r=s(2085),l=s(9434);let o=(0,r.F)("inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow ",destructive:"bg-white border-[red] border text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,t)=>{let{className:s,variant:i,size:r,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:i,size:r,className:s})),ref:t,...c})});d.displayName="Button"},768:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});let a=s(3464).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}})},1485:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Y});var a=s(5155),i=s(5695),n=s(2115),r=s(6715),l=s(4165),o=s(285),d=s(2355),c=s(3052);let u=e=>{let{currentPage:t,totalPages:s,onPageChange:i}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>i(t-1),disabled:t<=1,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})}),(()=>{let e=[];e.push(1);for(let a=Math.max(2,t-1);a<=Math.min(s-1,t+1);a++)e[e.length-1]!==a-1&&e.push(-1),e.push(a);return s>1&&(e[e.length-1]!==s-1&&e.push(-1),e.push(s)),e})().map((e,s)=>-1===e?(0,a.jsx)("span",{className:"px-2",children:"..."},"ellipsis-".concat(s)):(0,a.jsx)(o.$,{variant:t===e?"default":"outline",size:"sm",onClick:()=>i(e),children:e},"page-".concat(e))),(0,a.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>i(t+1),disabled:t>=s,children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})]})};var h=s(5041),p=s(2523),m=s(768),g=s(9509);let x={getList:async function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return(await m.S.get("/apartments/".concat(e,"/").concat(t,"?page=").concat(s,"&limit=").concat(a))).data},updateSharedProperties:async e=>(await m.S.put("/update_shared_properties",e,{headers:{"Content-Type":"multipart/form-data"}})).data,generateApartments:async e=>(await m.S.post("/add_apartments",e)).data,updateApartmentStatus:async e=>{let t={...e,floor_plan_id:String(e.floor_plan_id),flat_number:String(e.flat_number)},s=await fetch("".concat(g.env.NEXT_PUBLIC_API_URL||"http://localhost:3001","/api/update_apartment_status"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error((await s.json()).message||"Failed to update apartment");return s.json()}},v=e=>{let{buildingId:t,floorPlanId:s,floorPlanName:i,onSuccess:l}=e,[d,c]=(0,n.useState)(i||""),[u,m]=(0,n.useState)(null),g=(0,r.jE)(),v=(0,h.n)({mutationFn:e=>x.generateApartments(e),onSuccess:()=>{g.invalidateQueries({queryKey:["apartments",t,s]}),l&&l()},onError:e=>{var t,s,a,i;m((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||(null===(i=e.response)||void 0===i?void 0:null===(a=i.data)||void 0===a?void 0:a.error)||"An error occurred while generating apartments."),console.error("Error generating apartments:",e)}});return(0,a.jsxs)("div",{className:"space-y-4",children:[u&&(0,a.jsx)("div",{className:"text-red-500",children:u}),v.isSuccess&&(0,a.jsx)("div",{className:"text-green-500",children:"Apartments generated successfully!"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"name",className:"text-sm font-medium",children:"Apartments Name"}),(0,a.jsx)(p.p,{id:"name",value:d,onChange:e=>c(e.target.value),placeholder:"Enter apartments name",disabled:v.isPending})]}),(0,a.jsx)(o.$,{onClick:()=>{if(!d.trim()){m("Name is required");return}m(null),v.mutate({building_id:t,name:d,floor_plan_id:s})},disabled:v.isPending||!d.trim(),className:"w-full",children:v.isPending?"Generating...":"Generate Apartments"})]})};var f=s(9373);let b=(e,t,s,a)=>(0,f.I)({queryKey:["apartments",e,t,s,a],queryFn:async()=>{if(!e||!t)return{apartments:[],pagination:{total:0,page:1,limit:a,totalPages:1,hasNextPage:!1,hasPreviousPage:!1}};try{return await x.getList(e,t,s,a)}catch(e){var i,n;if((null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.error)==="NO_APARTMENTS_FOUND")return{apartments:[],pagination:{total:0,page:1,limit:a,totalPages:1,hasNextPage:!1,hasPreviousPage:!1}};throw e}},staleTime:3e5,gcTime:18e5,retry:2,enabled:!!e&&!!t});var y=s(4616);let j=e=>{let{onGenerate:t}=e;return(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsxs)(o.$,{onClick:t,className:"flex items-center gap-2",children:[(0,a.jsx)(y.A,{className:"w-4 h-4"}),"Generate Apartments"]})})};var N=s(9946);let w=(0,N.A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),C=e=>{let{apartment:t,isOpen:s,onClose:i,floorId:r,onSuccess:d}=e,[c,u]=(0,n.useState)(t.square_meters.toString()),[m,g]=(0,n.useState)(t.mobile_paths||""),[v,f]=(0,n.useState)(t.desktop_paths||""),[b,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),[C,_]=(0,n.useState)(null),P=(0,h.n)({mutationFn:e=>x.updateSharedProperties(e),onSuccess:()=>{_("Apartment updated successfully!"),d(),S()},onError:e=>{var t,s,a,i,n;console.error("Error response:",null===(t=e.response)||void 0===t?void 0:t.data),N((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.message)||(null===(n=e.response)||void 0===n?void 0:null===(i=n.data)||void 0===i?void 0:i.error)||"An error occurred while updating the apartment.")}}),S=()=>{P.isPending||(N(null),_(null),i())},k=async()=>{if(void 0===t.flat_id){console.error("Missing critical apartment data:",t),N("Missing apartment data. Please try again.");return}if(!c){N("Square meters is required.");return}N(null),_(null);let e=new FormData;if(e.append("floor_plan_id",r.toString()),e.append("flat_id",t.flat_id.toString()),e.append("square_meters",c),e.append("mobile_paths",m),e.append("desktop_paths",v),b)for(let t=0;t<b.length;t++)e.append("images",b[t]);P.mutate(e)};return(0,a.jsx)(l.lG,{open:s,onOpenChange:S,children:(0,a.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,a.jsx)(l.c7,{children:(0,a.jsx)(l.L3,{children:"Update Apartment"})}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[j&&(0,a.jsx)("div",{className:"text-red-500",children:j}),C&&(0,a.jsx)("div",{className:"text-green-500",children:C}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"squareMeters",children:"Square Meters"}),(0,a.jsx)(p.p,{id:"squareMeters",type:"number",value:c,onChange:e=>u(e.target.value),disabled:P.isPending})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"mobilePaths",children:"Mobile Paths"}),(0,a.jsx)(p.p,{id:"mobilePaths",type:"text",value:m,onChange:e=>g(e.target.value),disabled:P.isPending,placeholder:"Enter mobile paths"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"desktopPaths",children:"Desktop Paths"}),(0,a.jsx)(p.p,{id:"desktopPaths",type:"text",value:v,onChange:e=>f(e.target.value),disabled:P.isPending,placeholder:"Enter desktop paths"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"images",children:"Images"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.p,{id:"images",type:"file",multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&y(e.target.files)},disabled:P.isPending,className:"hidden"}),(0,a.jsxs)(o.$,{type:"button",variant:"outline",onClick:()=>{var e;return null===(e=document.getElementById("images"))||void 0===e?void 0:e.click()},disabled:P.isPending,children:[(0,a.jsx)(w,{className:"mr-2 h-4 w-4"}),"Select Images"]}),b&&(0,a.jsxs)("span",{children:[b.length," files selected"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,a.jsx)(o.$,{type:"button",variant:"outline",onClick:S,disabled:P.isPending,children:"Cancel"}),(0,a.jsx)(o.$,{type:"button",onClick:k,disabled:P.isPending,children:P.isPending?"Updating...":"Update"})]})]})]})})};var _=s(4631);let P=(0,N.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),S=(0,N.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var k=s(3332);let A=(0,N.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var M=s(9409);let E=["available","sold","reserved"],z=e=>{let{apartment:t,isOpen:s,onClose:i,buildingId:d,floorId:c}=e,[u,m]=(0,n.useState)(t.status||"available"),[g,v]=(0,n.useState)(t.sqm_price||0),[f,b]=(0,n.useState)(null),[y,j]=(0,n.useState)(null),N=(0,r.jE)(),w=(0,h.n)({mutationFn:e=>x.updateApartmentStatus(e),onSuccess:()=>{j("Apartment updated successfully!"),setTimeout(()=>{N.invalidateQueries({queryKey:["apartments",d,c]}),i()},200)},onError:e=>{console.error("Error updating apartment:",e),b(e.message||"An error occurred while updating the apartment.")}});return(0,a.jsx)(l.lG,{open:s,onOpenChange:i,children:(0,a.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,a.jsx)(l.c7,{children:(0,a.jsx)(l.L3,{children:"Update Apartment"})}),(0,a.jsxs)("div",{className:"space-y-4 py-4",children:[f&&(0,a.jsx)("div",{className:"text-red-500",children:f}),y&&(0,a.jsx)("div",{className:"text-green-500",children:y}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"apartmentStatus",className:"text-sm font-medium",children:"Apartment Status"}),(0,a.jsxs)(M.l6,{value:u,onValueChange:e=>m(e),disabled:w.isPending,children:[(0,a.jsx)(M.bq,{className:"w-full",children:(0,a.jsx)(M.yv,{placeholder:"Select status"})}),(0,a.jsx)(M.gC,{children:E.map(e=>(0,a.jsx)(M.eb,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1).replace("_"," ")},e))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("label",{htmlFor:"sqmPrice",className:"text-sm font-medium",children:"Price per m\xb2"}),(0,a.jsx)(p.p,{id:"sqmPrice",type:"number",min:"0",step:"0.01",value:g,onChange:e=>{v(parseFloat(e.target.value))},placeholder:"Enter price per square meter",disabled:w.isPending})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-4",children:[(0,a.jsx)(o.$,{variant:"outline",onClick:i,disabled:w.isPending,children:"Cancel"}),(0,a.jsx)(o.$,{onClick:()=>{if(b(null),isNaN(g)||g<0){b("Square meter price must be a valid non-negative number");return}w.mutate({status:u,floor_plan_id:String(c),flat_number:String(t.flat_number),sqm_price:Number(g)})},disabled:w.isPending,children:w.isPending?"Updating...":"Update"})]})]})]})})};var q=s(6766),O=s(9509);let F=e=>{var t,s;let{apartment:i,onUpdate:r,buildingId:l,floorId:d}=e,[c,u]=(0,n.useState)(!1),[h,p]=(0,n.useState)(!1),m=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e);return(0,a.jsxs)("div",{className:"p-4 border rounded shadow relative",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,a.jsxs)("h4",{className:"font-semibold",children:["# ",i.flat_number]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat((e=>{switch(e){case"available":return"bg-green-100 text-green-800";case"sold":return"bg-red-100 text-red-800";case"reserved":return"bg-blue-100 text-blue-800";case"under_construction":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(i.status)),children:(null===(t=i.status)||void 0===t?void 0:t.charAt(0).toUpperCase())+(null===(s=i.status)||void 0===s?void 0:s.slice(1).replace("_"," "))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(o.$,{variant:"outline",size:"sm",onClick:()=>{u(!0)},disabled:h,className:"h-7 px-2 flex items-center",children:[h?(0,a.jsx)(_.A,{className:"w-3.5 h-3.5 mr-1 animate-spin"}):(0,a.jsx)(P,{className:"w-3.5 h-3.5 mr-1"}),(0,a.jsx)("span",{className:"text-xs",children:h?"Updating...":"Update"})]}),(0,a.jsx)(o.$,{variant:"outline",size:"sm",className:"h-7",onClick:()=>{p(!0),r(),setTimeout(()=>{p(!1)},500)},disabled:h,children:h?(0,a.jsx)(_.A,{className:"w-3.5 h-3.5 animate-spin"}):(0,a.jsx)(S,{className:"w-3.5 h-3.5"})})]})]}),i.images&&Array.isArray(i.images)&&i.images.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2  gap-2 mb-3",children:i.images.map((e,t)=>(0,a.jsx)(q.default,{width:600,height:600,src:"".concat(O.env.NEXT_PUBLIC_API_URL||"http://localhost:3001").concat(e),alt:"Apartment ".concat(i.flat_number," - Image ").concat(t+1),className:"w-full h-40 object-cover rounded"},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-1 mb-3 justify-center",children:[(0,a.jsxs)("p",{className:"flex items-center gap-1",children:[(0,a.jsx)(k.A,{className:"h-3.5 w-3.5 mr-2 text-indigo-400"}),(0,a.jsx)("span",{className:"font-semibold",children:"Square Meters: "}),(0,a.jsxs)("span",{children:[" ",i.square_meters," m\xb2"]})]}),i.sqm_price&&i.sqm_price>0?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{className:"flex items-center  gap-1",children:[(0,a.jsx)(k.A,{className:"h-3.5 w-3.5 mr-2 text-indigo-400"}),(0,a.jsx)("span",{className:"font-semibold",children:"Price per m\xb2: "})," ",(0,a.jsxs)("span",{children:[" ",m(i.sqm_price)]})]}),i.square_meters&&(0,a.jsxs)("p",{className:"flex items-center",children:[(0,a.jsx)(k.A,{className:"h-3.5 w-3.5 mr-2 text-indigo-400"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Total Price: "}),m(i.square_meters*i.sqm_price)]})]})]}):(0,a.jsx)("p",{className:"text-gray-500 italic",children:"No price information"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 text-sm",children:[i.mobile_paths&&(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-50 px-2 py-1 rounded",children:[(0,a.jsx)("span",{children:"Mobile Paths:"}),(0,a.jsx)(A,{className:"text-green-500 w-4 h-4"})]}),i.desktop_paths&&(0,a.jsxs)("div",{className:"flex items-center gap-1 bg-gray-50 px-2 py-1 rounded",children:[(0,a.jsx)("span",{children:"Desktop Paths:"}),(0,a.jsx)(A,{className:"text-green-500 w-4 h-4"})]})]}),(0,a.jsx)(z,{apartment:i,isOpen:c,onClose:()=>{p(!0),setTimeout(()=>{u(!1),p(!1)},500)},buildingId:l,floorId:d})]})},{Axios:R,AxiosError:I,CanceledError:U,isCancel:L,CancelToken:T,VERSION:$,all:G,Cancel:D,isAxiosError:K,spread:V,toFormData:Q,AxiosHeaders:B,HttpStatusCode:X,formToJSON:J,getAdapter:Z,mergeConfig:H}=s(3464).A,W=e=>{var t,s;let{buildingId:i,floorId:d}=e,[c,h]=(0,n.useState)(1),[p,m]=(0,n.useState)(!1),[g,x]=(0,n.useState)(!1),[f,y]=(0,n.useState)(null),N=(0,r.jE)(),{data:w,isLoading:_,error:P}=b(i,d,c,15),S=(null==w?void 0:w.apartments)||[],k=(null==w?void 0:w.pagination)||{total:0,page:1,limit:15,totalPages:1,hasNextPage:!1,hasPreviousPage:!1},A=P instanceof I&&(null===(s=P.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.error)==="NO_APARTMENTS_FOUND",M=!_&&(0===S.length||A),E=e=>{y(e),m(!0)};return(0,a.jsxs)("div",{className:"w-full px-10 py-5 pb-16",children:[P&&!A?(0,a.jsx)("div",{className:"text-red-500 my-4",children:"object"==typeof P&&null!==P&&"message"in P?String(P.message):"Error fetching apartments."}):null,_?(0,a.jsx)("div",{className:"flex justify-center my-8",children:"Loading apartments..."}):(0,a.jsx)(a.Fragment,{children:M?(0,a.jsx)(j,{onGenerate:()=>{x(!0)}}):(0,a.jsxs)(a.Fragment,{children:[S.map(e=>(0,a.jsx)("div",{className:"mb-8",children:e.apartments.map(e=>(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(o.$,{className:" bg-indigo-400 cursor-none mb-4",children:["Floor ",e.floor]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.apartments.map(e=>(0,a.jsx)(F,{apartment:e,onUpdate:()=>E(e),buildingId:i,floorId:d},e.flat_id))})]},e.floor))},e.floor_plan_id)),k.totalPages>1&&(0,a.jsx)(u,{currentPage:k.page,totalPages:k.totalPages,onPageChange:e=>{h(e)}})]})}),f&&(0,a.jsx)(C,{apartment:f,isOpen:p,onClose:()=>{m(!1),y(null)},floorId:d,onSuccess:()=>{N.invalidateQueries({queryKey:["apartments",i,d]}),m(!1)}}),(0,a.jsx)(l.lG,{open:g,onOpenChange:x,children:(0,a.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,a.jsx)(l.c7,{children:(0,a.jsx)(l.L3,{children:"Generate Apartments"})}),(0,a.jsx)("div",{className:"py-4",children:(0,a.jsx)(v,{buildingId:i,floorPlanId:d,floorPlanName:"Floor Plan ".concat(d),onSuccess:()=>{x(!1),N.invalidateQueries({queryKey:["apartments",i,d]})}})})]})})]})};function Y(){let e=(0,i.useParams)(),t=e.buildingID,s=e.floorID;return(0,a.jsx)(W,{buildingId:t,floorId:s})}},2523:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(5155);s(2115);var i=s(9434);function n(e){let{className:t,type:s,...n}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},3052:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4165:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>u,Es:()=>p,L3:()=>m,c7:()=>h,lG:()=>l,rr:()=>g,zM:()=>o});var a=s(5155);s(2115);var i=s(5776),n=s(4416),r=s(9434);function l(e){let{...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"dialog",...t})}function o(e){let{...t}=e;return(0,a.jsx)(i.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,a.jsx)(i.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...s}=e;return(0,a.jsx)(i.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function u(e){let{className:t,children:s,...l}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(i.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...l,children:[s,(0,a.jsxs)(i.bm,{className:"ring-offset-background cursor-pointer focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function h(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(i.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",t),...s})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(i.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}},4560:(e,t,s)=>{"use strict";s.d(t,{$:()=>l,s:()=>r});var a=s(7165),i=s(7948),n=s(6784),r=class extends i.k{#e;#t;#s;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){this.#s=(0,n.II)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t="pending"===this.state.status,s=!this.#s.canStart();try{if(!t){this.#a({type:"pending",variables:e,isPaused:s}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:s})}let a=await this.#s.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#a({type:"success",data:a}),a}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#a({type:"error",error:t})}}finally{this.#t.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),a.j.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},4616:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4631:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]])},5041:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var a=s(2115),i=s(4560),n=s(7165),r=s(5910),l=s(2020),o=class extends r.Q{#i;#n=void 0;#r;#l;constructor(e,t){super(),this.#i=e,this.setOptions(t),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#i.defaultMutationOptions(e),(0,l.f8)(this.options,t)||this.#i.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.EN)(t.mutationKey)!==(0,l.EN)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#o(),this.#d(e)}getCurrentResult(){return this.#n}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#d()}mutate(e,t){return this.#l=t,this.#r?.removeObserver(this),this.#r=this.#i.getMutationCache().build(this.#i,this.options),this.#r.addObserver(this),this.#r.execute(e)}#o(){let e=this.#r?.state??(0,i.$)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#d(e){n.j.batch(()=>{if(this.#l&&this.hasListeners()){let t=this.#n.variables,s=this.#n.context;e?.type==="success"?(this.#l.onSuccess?.(e.data,t,s),this.#l.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#l.onError?.(e.error,t,s),this.#l.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#n)})})}},d=s(6715),c=s(3768);function u(e,t){let s=(0,d.jE)(t),[i]=a.useState(()=>new o(s,e));a.useEffect(()=>{i.setOptions(e)},[i,e]);let r=a.useSyncExternalStore(a.useCallback(e=>i.subscribe(n.j.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=a.useCallback((e,t)=>{i.mutate(e,t).catch(c.l)},[i]);if(r.error&&(0,c.G)(i.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}},9409:(e,t,s)=>{"use strict";s.d(t,{bq:()=>u,eb:()=>p,gC:()=>h,l6:()=>d,yv:()=>c});var a=s(5155);s(2115);var i=s(6445),n=s(6474),r=s(5196),l=s(7863),o=s(9434);function d(e){let{...t}=e;return(0,a.jsx)(i.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(i.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:s="default",children:r,...l}=e;return(0,a.jsxs)(i.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...l,children:[r,(0,a.jsx)(i.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function h(e){let{className:t,children:s,position:n="popper",...r}=e;return(0,a.jsx)(i.ZL,{children:(0,a.jsxs)(i.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[(0,a.jsx)(m,{}),(0,a.jsx)(i.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(g,{})]})})}function p(e){let{className:t,children:s,...n}=e;return(0,a.jsxs)(i.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(i.VF,{children:(0,a.jsx)(r.A,{className:"size-4"})})}),(0,a.jsx)(i.p4,{children:s})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)(i.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(l.A,{className:"size-4"})})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(i.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.A,{className:"size-4"})})}},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(2596),i=s(9688);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,i.QP)((0,a.$)(t))}},9763:(e,t,s)=>{Promise.resolve().then(s.bind(s,1485))}},e=>{var t=t=>e(e.s=t);e.O(0,[914,766,794,676,662,386,75,441,684,358],()=>t(9763)),_N_E=e.O()}]);