"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{4341:(e,t,a)=>{a.d(t,{w:()=>l});var s=a(5155),r=a(2115),n=a(6766);function l(e){let{imageSrc:t,altText:a,originalDimensions:l,maxDimensions:o,isMobile:i,priority:c=!1,children:d,onImagePositionChange:u}=e,[m,h]=(0,r.useState)({top:0,left:0,width:0,height:0}),f=(0,r.useRef)(null),g=(0,r.useRef)(null),p=(0,r.useRef)(null),x=(0,r.useRef)(null),b=()=>{if(!g.current||!p.current)return{width:0,height:0};let e=g.current.clientWidth,t=g.current.clientHeight,a=i?o.mobile.width:o.desktop.width,s=i?o.mobile.height:o.desktop.height,r=a/s;if(i)return{width:e,height:e/r};let n=e,l=n/r;return l>t&&(n=(l=t)*r),{width:n=Math.min(n,a),height:l=Math.min(l,s)}},v=()=>{if(f.current&&g.current&&p.current){let{width:e,height:t}=b();p.current.style.width="".concat(e,"px"),p.current.style.height="".concat(t,"px");let a=f.current.getBoundingClientRect(),s=g.current.getBoundingClientRect(),r={top:a.top-s.top,left:a.left-s.left,width:a.width,height:a.height};h(r),u&&u(r)}};(0,r.useEffect)(()=>{let e=setTimeout(v,100),t=new ResizeObserver(()=>{clearTimeout(e),setTimeout(v,100)});return g.current&&t.observe(g.current),f.current&&t.observe(f.current),p.current&&t.observe(p.current),window.addEventListener("resize",v),()=>{clearTimeout(e),g.current&&t.unobserve(g.current),f.current&&t.unobserve(f.current),p.current&&t.unobserve(p.current),window.removeEventListener("resize",v),t.disconnect()}},[i]),(0,r.useEffect)(()=>{let e=setTimeout(v,100);return()=>clearTimeout(e)},[t]);let y=i?l.mobile.width:l.desktop.width,w=i?l.mobile.height:l.desktop.height,j=m.width/y,N=m.height/w;return(0,s.jsx)("div",{ref:g,className:"relative w-full ".concat(i?"overflow-y-auto":"h-full"),children:(0,s.jsx)("div",{className:"relative ".concat(i?"":"h-full"," flex justify-center items-center"),children:(0,s.jsxs)("div",{ref:p,className:"relative",style:{width:i?o.mobile.width:o.desktop.width,height:i?o.mobile.height:o.desktop.height,maxWidth:"100%",maxHeight:i?"none":"100%"},children:[(0,s.jsx)(n.default,{ref:f,src:t||"/placeholder.svg",alt:a,fill:!0,priority:c,onLoad:v,className:"rounded-lg"}),(0,s.jsx)("div",{ref:x,className:"absolute",style:{top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"},children:"function"==typeof d?d({scaleFactorX:j,scaleFactorY:N}):d})]})})})}},5234:(e,t,a)=>{a.d(t,{c:()=>r});var s=a(2115);function r(e){let[t,a]=(0,s.useState)(!1),[r,n]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=()=>{a(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.useEffect)(()=>{var a;if(!e||!(null===(a=e.apartments)||void 0===a?void 0:a.length)){n([]);return}let s=[],r=t?"mobile_paths":"desktop_paths";e.apartments.forEach(e=>{e.apartments.forEach(e=>{e.apartments.forEach(e=>{if(e[r])try{let t=e[r].trim().split(",").map(e=>e.trim()).filter(Boolean).map(Number);if(t.some(isNaN)){console.error("Invalid coordinate values in ".concat(r," for apartment ").concat(e.flat_id));return}let a=[];for(let e=0;e<t.length;e+=2)e+1<t.length&&a.push({x:t[e],y:t[e+1]});a.length>=3?s.push({flatId:e.flat_id,flatNumber:e.flat_number,status:e.status,coords:a}):console.warn("Not enough coordinates for apartment ".concat(e.flat_id,", found ").concat(a.length," points"))}catch(t){console.error("Error parsing ".concat(r," for apartment ").concat(e.flat_id,":"),t)}})})}),n(s)},[e,t]),{isMobile:t,apartmentAreas:r}}},5578:(e,t,a)=>{a.d(t,{$:()=>r});var s=a(768);let r={getList:async e=>(await s.S.get("/floor_plans/".concat(e))).data,deletePlan:async e=>(await s.S.delete("/delete_plan/".concat(e))).data,addPlan:async e=>{let t=localStorage.getItem("authToken");return(await s.S.post("/add_floor_plan",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(t)}})).data},getApartments:async function(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,l="/apartments/".concat(e);t&&(l+="/".concat(t));let o=new URLSearchParams;return o.append("page",r.toString()),o.append("limit",n.toString()),void 0!==a&&o.append("floor",a.toString()),l+="?".concat(o.toString()),(await s.S.get(l)).data}}},6115:(e,t,a)=>{a.d(t,{f:()=>o});var s=a(5155),r=a(2115);let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return!e||e.length<3?(console.error("Invalid coordinates for clip path",e),"none"):"polygon(".concat(e.map(e=>{let{x:s,y:r}=e;return"".concat(s*t,"px ").concat(r*a,"px")}).join(", "),")")},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e||e.length<3)return{x:0,y:0};let s=e.reduce((e,s)=>({x:e.x+s.x*t,y:e.y+s.y*a}),{x:0,y:0});return{x:s.x/e.length,y:s.y/e.length}},o=e=>{let{flatId:t,flatNumber:a,status:o,coords:i,hoveredApartment:c,setHoveredApartment:d,onApartmentClick:u=()=>{},scaleFactorX:m=1,scaleFactorY:h=1}=e,[f,g]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g(!1);let e=setTimeout(()=>{g(!0)},t%5*100),a=setTimeout(()=>{x(!0)},1500);return()=>{clearTimeout(e),clearTimeout(a)}},[i,t]);let b=()=>{switch(null==o?void 0:o.toLowerCase()){case"free":case"available":return c===t?"border-green-400":"border-green-500";case"reserved":return c===t?"border-yellow-400":"border-yellow-500";case"sold":return c===t?"border-red-400":"border-red-500";default:return c===t?"border-gray-400":"border-gray-500"}};if(!i||i.length<3)return null;let v=l(i,m,h);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",clipPath:n(i,m,h),pointerEvents:"auto",transition:"all 0.3s ease",opacity:+!!f,transform:f?"scale(1)":"scale(0.95)"},className:"\n          ".concat(c===t?"bg-blue-200/50":(()=>{switch(null==o?void 0:o.toLowerCase()){case"free":case"available":return"bg-green-200/30";case"reserved":return"bg-yellow-200/30";case"sold":return"bg-red-800/30";default:return"bg-gray-200/30"}})(),"\n          ").concat(c===t?"shadow-lg":"","\n          border-4 ").concat(b(),"\n          ").concat(p&&c!==t?"animate-border-pulse":"","\n          transition-all duration-500\n        "),onMouseEnter:()=>d(t),onMouseLeave:()=>d(null),onClick:()=>u(t,a)},t),(0,s.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",clipPath:n(i,m,h),pointerEvents:"none",opacity:.4*!!f,filter:"blur(4px)"},className:"\n          border-3 ".concat(b(),"\n          ").concat(p?"animate-glow":"","\n          transition-all duration-700\n        ")}),(0,s.jsxs)("div",{style:{position:"absolute",left:"".concat(v.x,"px"),top:"".concat(v.y,"px"),transform:"translate(-50%, -50%) ".concat(f?"scale(1)":"scale(0.8)"),pointerEvents:"none",opacity:+!!f},className:"\n          z-10 flex flex-col items-center justify-center\n          bg-white/90 rounded-lg px-2 py-1 shadow-md\n          ".concat(c===t?"scale-110":"scale-100","\n          transition-all duration-500\n        "),children:[(0,s.jsx)("span",{className:"font-bold text-sm",children:a}),(0,s.jsx)("span",{className:"text-xs capitalize ".concat((()=>{switch(null==o?void 0:o.toLowerCase()){case"free":case"available":return"text-green-700";case"reserved":return"text-yellow-700";case"sold":return"text-red-700";default:return"text-gray-700"}})()),children:o})]})]})}},6812:(e,t,a)=>{a.d(t,{S:()=>w});var s=a(5155),r=a(285),n=a(2115),l=a(5776),o=a(9434);function i(e){let{...t}=e;return(0,s.jsx)(l.bL,{"data-slot":"sheet",...t})}function c(e){let{...t}=e;return(0,s.jsx)(l.bm,{"data-slot":"sheet-close",...t})}function d(e){let{...t}=e;return(0,s.jsx)(l.ZL,{"data-slot":"sheet-portal",...t})}function u(e){let{className:t,...a}=e;return(0,s.jsx)(l.hJ,{"data-slot":"sheet-overlay",className:(0,o.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function m(e){let{className:t,children:a,side:r="right",...n}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{"data-slot":"sheet-content",className:(0,o.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...n,children:[a,(0,s.jsx)(l.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:(0,s.jsx)("span",{className:"sr-only",children:"Close"})})]})]})}function h(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"sheet-header",className:(0,o.cn)("flex flex-col gap-1.5 p-4",t),...a})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(l.hE,{"data-slot":"sheet-title",className:(0,o.cn)("text-foreground font-semibold",t),...a})}var g=a(9946);let p=(0,g.A)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var x=a(4416);let b=(0,g.A)("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);var v=a(3332),y=a(6766);let w=e=>{let{isOpen:t,onClose:a,apartment:l}=e,[o,d]=(0,n.useState)({firstName:"",lastName:"",phoneNumber:""});if(!l)return null;let u=e=>{let{name:t,value:a}=e.target;d(e=>({...e,[t]:a}))};return(0,s.jsx)(i,{open:t,onOpenChange:a,children:(0,s.jsxs)(m,{side:"right",className:"w-full sm:max-w-md md:max-w-lg overflow-y-auto",children:[(0,s.jsx)(h,{className:"space-y-2 mb-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(f,{className:"flex items-center gap-5",children:[(0,s.jsxs)("span",{className:"text-xl font-bold",children:["Apartment #",l.number]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("div",{className:"px-3 py-1 rounded-full border flex items-center gap-1.5 font-medium ".concat((()=>{var e;switch(null===(e=l.status)||void 0===e?void 0:e.toLowerCase()){case"available":return"bg-green-50 text-green-700 border-green-200";case"reserved":return"bg-amber-50 text-amber-700 border-amber-200";case"sold":return"bg-red-50 text-red-700 border-red-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})()),children:["available"===l.status&&(0,s.jsx)(p,{className:"h-4 w-4"}),l.status||"Unknown"]})})]}),(0,s.jsx)(c,{asChild:!0,children:(0,s.jsx)(r.$,{variant:"ghost",size:"icon",className:"rounded-full h-8 w-8","aria-label":"Close",children:(0,s.jsx)(x.A,{className:"h-4 w-4"})})})]})}),(0,s.jsxs)("div",{className:"space-y-6",children:[l.images&&l.images.length>0&&(0,s.jsx)("div",{className:1===l.images.length?"w-full":"grid grid-cols-2 gap-2",children:1===l.images.length?(0,s.jsx)("div",{className:"relative rounded-lg overflow-hidden h-72 bg-gray-100",children:(0,s.jsx)(y.default,{src:"http://localhost:3001".concat(l.images[0]),alt:"Apartment ".concat(l.number),className:"w-full h-full object-cover",width:800,height:600})}):l.images.slice(0,2).map((e,t)=>(0,s.jsx)("div",{className:"relative rounded-lg overflow-hidden h-48 bg-gray-100",children:(0,s.jsx)(y.default,{src:"http://localhost:3001".concat(e),alt:"Apartment ".concat(l.number," - Image ").concat(t+1),className:"w-full h-full object-cover",width:400,height:300})},t))}),(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(b,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Area"}),(0,s.jsx)("p",{className:"font-semibold",children:l.area?"".concat(l.area," m\xb2"):"N/A"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(v.A,{className:"h-5 w-5 text-gray-500 flex-shrink-0"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Floor"}),(0,s.jsx)("p",{className:"font-semibold",children:l.floor||"N/A"})]})]})]}),"available"===l.status&&(0,s.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,s.jsx)("h3",{className:"font-medium mb-3",children:"Contact Sales"}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault()},className:"space-y-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"firstName",className:"block text-sm text-gray-600 mb-1",children:"First Name"}),(0,s.jsx)("input",{type:"text",id:"firstName",name:"firstName",value:o.firstName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"lastName",className:"block text-sm text-gray-600 mb-1",children:"Last Name"}),(0,s.jsx)("input",{type:"text",id:"lastName",name:"lastName",value:o.lastName,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm text-gray-600 mb-1",children:"Phone Number"}),(0,s.jsx)("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:o.phoneNumber,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsx)(r.$,{type:"submit",className:"w-full mt-2",size:"lg",children:"Submit Inquiry"})]})]})]})]})})}},7059:(e,t,a)=>{a.d(t,{W:()=>o});var s=a(5155),r=a(2115),n=a(9409),l=a(5695);function o(e){let{currentFloor:t,floorRangeStart:a,floorRangeEnd:o,buildingId:i,floorPlanId:c,route:d,disabled:u=!1}=e,m=(0,l.useRouter)(),h=r.useMemo(()=>"number"!=typeof a||"number"!=typeof o?[]:Array.from({length:o-a+1},(e,t)=>a+t),[a,o]);return h.length<=1?null:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"text-sm text-blue-700 font-medium mr-2",children:"Floor:"}),(0,s.jsxs)(n.l6,{value:t.toString(),onValueChange:e=>{i&&c&&m.replace("/".concat(d,"/").concat(i,"/").concat(c,"/").concat(e))},disabled:u,children:[(0,s.jsx)(n.bq,{className:"w-20 h-8 bg-blue-50 border-blue-200 text-blue-900",children:(0,s.jsx)(n.yv,{})}),(0,s.jsx)(n.gC,{children:h.map(e=>(0,s.jsx)(n.eb,{value:e.toString(),children:e},e))})]})]})}},9409:(e,t,a)=>{a.d(t,{bq:()=>u,eb:()=>h,gC:()=>m,l6:()=>c,yv:()=>d});var s=a(5155);a(2115);var r=a(6445),n=a(6474),l=a(5196),o=a(7863),i=a(9434);function c(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"select",...t})}function d(e){let{...t}=e;return(0,s.jsx)(r.WT,{"data-slot":"select-value",...t})}function u(e){let{className:t,size:a="default",children:l,...o}=e;return(0,s.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":a,className:(0,i.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:a,position:n="popper",...l}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{"data-slot":"select-content",className:(0,i.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,s.jsx)(f,{}),(0,s.jsx)(r.LM,{className:(0,i.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,s.jsx)(g,{})]})})}function h(e){let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.q7,{"data-slot":"select-item",className:(0,i.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(l.A,{className:"size-4"})})}),(0,s.jsx)(r.p4,{children:a})]})}function f(e){let{className:t,...a}=e;return(0,s.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(o.A,{className:"size-4"})})}function g(e){let{className:t,...a}=e;return(0,s.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,i.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(n.A,{className:"size-4"})})}}}]);