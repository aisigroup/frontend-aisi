{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://D%3A/Projects/New%20project/property-frontend/src/app/%5Blocale%5D/signin/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { z } from \"zod\";\r\nimport { authAPI } from \"@/routes/auth\";\r\n\r\nconst SignInSchema = z.object({\r\n  email: z.string().email(\"Invalid email address\"),\r\n  password: z.string().min(6, \"Password must be at least 6 characters\"),\r\n});\r\n\r\nexport default function SignInPage() {\r\n  const router = useRouter();\r\n  const [formData, setFormData] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const [errors, setErrors] = useState<{\r\n    email?: string;\r\n    password?: string;\r\n    general?: string;\r\n  }>({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n\r\n    if (errors[name as keyof typeof errors]) {\r\n      setErrors((prev) => ({\r\n        ...prev,\r\n        [name]: undefined,\r\n      }));\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setErrors({});\r\n\r\n    try {\r\n      const validationResult = SignInSchema.safeParse(formData);\r\n      if (!validationResult.success) {\r\n        const zodErrors = validationResult.error.flatten().fieldErrors;\r\n        setErrors({\r\n          email: zodErrors.email?.[0],\r\n          password: zodErrors.password?.[0],\r\n        });\r\n        setIsLoading(false);\r\n        return;\r\n      }\r\n      const response = await authAPI.login(formData);\r\n\r\n      if (response.data) {\r\n        router.push(\"/admin\");\r\n      }\r\n    } catch (error: any) {\r\n      setErrors({\r\n        general:\r\n          error.response?.data?.message || \"An unexpected error occurred\",\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n      <div className=\"bg-white p-8 rounded-lg shadow-md w-full max-w-md\">\r\n        <h2 className=\"text-2xl font-bold mb-6 text-center\">Sign In</h2>\r\n\r\n        {errors.general && (\r\n          <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4\">\r\n            {errors.general}\r\n          </div>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n          <div>\r\n            <label\r\n              htmlFor=\"email\"\r\n              className=\"block text-sm font-medium text-gray-700\"\r\n            >\r\n              Email\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n              className={`mt-1 block w-full rounded-md border ${\r\n                errors.email ? \"border-red-500\" : \"border-gray-300\"\r\n              } shadow-sm py-2 px-3`}\r\n              placeholder=\"Enter your email\"\r\n            />\r\n            {errors.email && (\r\n              <p className=\"mt-1 text-sm text-red-500\">{errors.email}</p>\r\n            )}\r\n          </div>\r\n\r\n          <div>\r\n            <label\r\n              htmlFor=\"password\"\r\n              className=\"block text-sm font-medium text-gray-700\"\r\n            >\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              name=\"password\"\r\n              value={formData.password}\r\n              onChange={handleChange}\r\n              className={`mt-1 block w-full rounded-md border ${\r\n                errors.password ? \"border-red-500\" : \"border-gray-300\"\r\n              } shadow-sm py-2 px-3`}\r\n              placeholder=\"Enter your password\"\r\n            />\r\n            {errors.password && (\r\n              <p className=\"mt-1 text-sm text-red-500\">{errors.password}</p>\r\n            )}\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className={`w-full py-2 px-4 rounded-md text-white font-semibold ${\r\n              isLoading\r\n                ? \"bg-gray-400 cursor-not-allowed\"\r\n                : \"bg-blue-500 hover:bg-blue-600\"\r\n            }`}\r\n          >\r\n            {isLoading ? \"Signing In...\" : \"Sign In\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOA,MAAM,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC5B,OAAO,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;AAC9B;AAEe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,OAAO;QACP,UAAU;IACZ;IACA,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAIhC,CAAC;IACJ,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY,CAAC,OAAS,CAAC;gBACrB,GAAG,IAAI;gBACP,CAAC,KAAK,EAAE;YACV,CAAC;QAED,IAAI,MAAM,CAAC,KAA4B,EAAE;YACvC,UAAU,CAAC,OAAS,CAAC;oBACnB,GAAG,IAAI;oBACP,CAAC,KAAK,EAAE;gBACV,CAAC;QACH;IACF;IAEA,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,aAAa;QACb,UAAU,CAAC;QAEX,IAAI;YACF,MAAM,mBAAmB,aAAa,SAAS,CAAC;YAChD,IAAI,CAAC,iBAAiB,OAAO,EAAE;gBAC7B,MAAM,YAAY,iBAAiB,KAAK,CAAC,OAAO,GAAG,WAAW;gBAC9D,UAAU;oBACR,OAAO,UAAU,KAAK,EAAE,CAAC,EAAE;oBAC3B,UAAU,UAAU,QAAQ,EAAE,CAAC,EAAE;gBACnC;gBACA,aAAa;gBACb;YACF;YACA,MAAM,WAAW,MAAM,qHAAA,CAAA,UAAO,CAAC,KAAK,CAAC;YAErC,IAAI,SAAS,IAAI,EAAE;gBACjB,OAAO,IAAI,CAAC;YACd;QACF,EAAE,OAAO,OAAY;YACnB,UAAU;gBACR,SACE,MAAM,QAAQ,EAAE,MAAM,WAAW;YACrC;QACF,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAsC;;;;;;gBAEnD,OAAO,OAAO,kBACb,8OAAC;oBAAI,WAAU;8BACZ,OAAO,OAAO;;;;;;8BAInB,8OAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,8OAAC;;8CACC,8OAAC;oCACC,SAAQ;oCACR,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,IAAG;oCACH,MAAK;oCACL,OAAO,SAAS,KAAK;oCACrB,UAAU;oCACV,WAAW,CAAC,oCAAoC,EAC9C,OAAO,KAAK,GAAG,mBAAmB,kBACnC,oBAAoB,CAAC;oCACtB,aAAY;;;;;;gCAEb,OAAO,KAAK,kBACX,8OAAC;oCAAE,WAAU;8CAA6B,OAAO,KAAK;;;;;;;;;;;;sCAI1D,8OAAC;;8CACC,8OAAC;oCACC,SAAQ;oCACR,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,IAAG;oCACH,MAAK;oCACL,OAAO,SAAS,QAAQ;oCACxB,UAAU;oCACV,WAAW,CAAC,oCAAoC,EAC9C,OAAO,QAAQ,GAAG,mBAAmB,kBACtC,oBAAoB,CAAC;oCACtB,aAAY;;;;;;gCAEb,OAAO,QAAQ,kBACd,8OAAC;oCAAE,WAAU;8CAA6B,OAAO,QAAQ;;;;;;;;;;;;sCAI7D,8OAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAW,CAAC,qDAAqD,EAC/D,YACI,mCACA,iCACJ;sCAED,YAAY,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;AAM3C","debugId":null}}]
}